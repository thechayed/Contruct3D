"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[60],{2060:(t,e,o)=>{o.d(e,{OBJExporter:()=>n});var r=o(9451);class n{parse(t){let e="",o=0,n=0,i=0;const f=new r.Vector3,l=new r.Color,u=new r.Vector3,a=new r.Vector2,c=[];return t.traverse((function(t){!0===t.isMesh&&function(t){let l=0,m=0,s=0;const p=t.geometry,x=new r.Matrix3,b=p.getAttribute("position"),v=p.getAttribute("normal"),g=p.getAttribute("uv"),y=p.getIndex();if(e+="o "+t.name+"\n",t.material&&t.material.name&&(e+="usemtl "+t.material.name+"\n"),void 0!==b)for(let o=0,r=b.count;o<r;o++,l++)f.fromBufferAttribute(b,o),f.applyMatrix4(t.matrixWorld),e+="v "+f.x+" "+f.y+" "+f.z+"\n";if(void 0!==g)for(let t=0,o=g.count;t<o;t++,s++)a.fromBufferAttribute(g,t),e+="vt "+a.x+" "+a.y+"\n";if(void 0!==v){x.getNormalMatrix(t.matrixWorld);for(let t=0,o=v.count;t<o;t++,m++)u.fromBufferAttribute(v,t),u.applyMatrix3(x).normalize(),e+="vn "+u.x+" "+u.y+" "+u.z+"\n"}if(null!==y)for(let t=0,r=y.count;t<r;t+=3){for(let e=0;e<3;e++){const r=y.getX(t+e)+1;c[e]=o+r+(v||g?"/"+(g?n+r:"")+(v?"/"+(i+r):""):"")}e+="f "+c.join(" ")+"\n"}else for(let t=0,r=b.count;t<r;t+=3){for(let e=0;e<3;e++){const r=t+e+1;c[e]=o+r+(v||g?"/"+(g?n+r:"")+(v?"/"+(i+r):""):"")}e+="f "+c.join(" ")+"\n"}o+=l,n+=s,i+=m}(t),!0===t.isLine&&function(t){let r=0;const n=t.geometry,i=t.type,l=n.getAttribute("position");if(e+="o "+t.name+"\n",void 0!==l)for(let o=0,n=l.count;o<n;o++,r++)f.fromBufferAttribute(l,o),f.applyMatrix4(t.matrixWorld),e+="v "+f.x+" "+f.y+" "+f.z+"\n";if("Line"===i){e+="l ";for(let t=1,r=l.count;t<=r;t++)e+=o+t+" ";e+="\n"}if("LineSegments"===i)for(let t=1,r=t+1,n=l.count;t<n;t+=2,r=t+1)e+="l "+(o+t)+" "+(o+r)+"\n";o+=r}(t),!0===t.isPoints&&function(t){let r=0;const n=t.geometry,i=n.getAttribute("position"),u=n.getAttribute("color");if(e+="o "+t.name+"\n",void 0!==i){for(let o=0,n=i.count;o<n;o++,r++)f.fromBufferAttribute(i,o),f.applyMatrix4(t.matrixWorld),e+="v "+f.x+" "+f.y+" "+f.z,void 0!==u&&(l.fromBufferAttribute(u,o).convertLinearToSRGB(),e+=" "+l.r+" "+l.g+" "+l.b),e+="\n";e+="p ";for(let t=1,r=i.count;t<=r;t++)e+=o+t+" ";e+="\n"}o+=r}(t)})),e}}}}]);